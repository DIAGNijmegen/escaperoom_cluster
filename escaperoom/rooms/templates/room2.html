{% extends 'base.html' %}

{% block title %}Room {{ room_number }}{% endblock %}

{% block content %}
    {% if not allowed %}
        <p>This page is limited access, please provide the correct security code:</p>
        <form method="post" class="form-group" action="">
            {% csrf_token %}
            <label for="{{ access_form.code.id_for_label }}">{{ access_form.code.label }}</label>
            <input type="text" name="{{ access_form.code.html_name }}" id="{{ access_form.code.id_for_label }}" class="form-control">
            <button type="submit" name="access" class="btn btn-primary mt-2">Submit Access Code</button>
        </form>
    {% else %}
        <h1>Welcome to Room {{ room_number }}</h1>
        <p>Here you can access the SOL2 cluster and manage the nodes:</p>
        <form method="post" class="form-group" action="">
            {% csrf_token %}
            <label for="{{ puzzle_form.puzzle_answer.id_for_label }}">{{ puzzle_form.puzzle_answer.label }}</label>
            <input type="text" name="{{ puzzle_form.puzzle_answer.html_name }}" id="{{ puzzle_form.puzzle_answer.id_for_label }}" class="form-control">
            <button type="submit" name="puzzle" class="btn btn-primary mt-2">Solve Puzzle</button>
        </form>
        {% if success %}
            <div class="mt-4 alert alert-success">
                <p>Congratulations! You have unlocked a new part of the page.</p>
                <!-- Custom content for Room {{ room_number }} -->
            </div>
        {% endif %}
    {% endif %}
{% endblock %}
